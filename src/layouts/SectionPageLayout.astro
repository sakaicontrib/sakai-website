---
import BaseLayout from "./BaseLayout.astro";

interface Props {
  title: string;
  description: string;
  kicker: string;
  heading: string;
}

const { title, description, kicker, heading } = Astro.props;
const withBase = (path: string) =>
  `${import.meta.env.BASE_URL.replace(/\/$/, "")}/${path.replace(/^\/+/, "")}`;

const links = [
  { href: "/sakai-lms-features", label: "Product" },
  { href: "/sakai-lms-community", label: "Community" },
  { href: "/resources", label: "Resources" }
];
---

<BaseLayout title={title} description={description}>
  <div class="min-h-screen bg-[var(--sakai-cream)]">
    <div class="bg-[var(--sakai-ink)] px-4 py-2 text-center text-xs text-[var(--sakai-paper)] sm:text-sm">
      <span class="punch">Sakai LMS</span>
      <span class="mx-2 text-[var(--sakai-aqua)]">|</span>
      Real open-source collaboration for higher education
    </div>

    <header class="bg-grid border-b-2 border-[var(--sakai-black)] bg-[var(--sakai-paper)]">
      <nav class="mx-auto flex w-full max-w-7xl flex-wrap items-center justify-between gap-3 px-4 py-3 md:px-8">
        <a href={withBase("/")} class="flex items-center gap-3">
          <img src={withBase("/images/sakai-logo.png")} alt="Sakai logo" class="h-9 w-auto" />
        </a>

        <div class="sans flex flex-wrap items-center gap-x-4 gap-y-2 text-xs font-semibold uppercase tracking-[0.08em] text-[var(--sakai-ink)] md:text-sm">
          {links.map((link) => (
            <a href={withBase(link.href)} class="hover:text-[var(--sakai-terracotta)]">{link.label}</a>
          ))}
        </div>

        <a
          href={withBase("/sakai-lms-features")}
          class="sans hard-border block-shadow-soft bg-[var(--sakai-terracotta)] px-4 py-2 text-sm font-bold uppercase tracking-[0.08em] text-white transition hover:-translate-x-0.5 hover:-translate-y-0.5"
        >
          Feature Reference
        </a>
      </nav>
    </header>

    <main class="mx-auto w-full max-w-5xl px-4 py-10 md:px-8 md:py-14">
      <span class="ribbon sans text-xs uppercase tracking-[0.14em] md:text-sm">{kicker}</span>
      <h1 class="sans mt-5 text-4xl leading-none font-black uppercase text-[var(--sakai-ink)] md:text-6xl">{heading}</h1>
      <div class="mt-7 grid gap-6">
        <slot />
      </div>
    </main>

    <footer class="border-t-2 border-[var(--sakai-black)] bg-[var(--sakai-paper)]">
      <div class="mx-auto flex w-full max-w-7xl flex-col gap-5 px-4 py-7 md:px-8 lg:flex-row lg:items-center lg:justify-between">
        <a href={withBase("/")} class="flex items-center gap-3">
          <img src={withBase("/images/sakai-logo.png")} alt="Sakai logo" class="h-10 w-auto" />
          <p class="sans text-xs font-bold uppercase tracking-[0.14em] text-[var(--sakai-ink)]">Community-Led for 20+ Years</p>
        </a>

        <nav class="sans flex flex-wrap gap-4 text-xs font-bold uppercase tracking-[0.12em] text-[var(--sakai-ink)]">
          <a href={withBase("/sakai-lms-features")} class="hover:text-[var(--sakai-terracotta)]">Features</a>
          <a href={withBase("/releases")} class="hover:text-[var(--sakai-terracotta)]">Releases</a>
          <a href={withBase("/sakai-lms-community")} class="hover:text-[var(--sakai-terracotta)]">Community</a>
          <a href={withBase("/events")} class="hover:text-[var(--sakai-terracotta)]">Events</a>
          <a href={withBase("/connect")} class="hover:text-[var(--sakai-terracotta)]">Connect</a>
          <a href={withBase("/resources")} class="hover:text-[var(--sakai-terracotta)]">Resources</a>
          <a href={withBase("/accessibility-policy")} class="hover:text-[var(--sakai-terracotta)]">Accessibility Policy</a>
          <a href={withBase("/brand-policy")} class="hover:text-[var(--sakai-terracotta)]">Brand Policy</a>
        </nav>

        <p class="text-sm text-[var(--sakai-ink-soft)]">Â© {new Date().getFullYear()} Sakai Project</p>
      </div>
    </footer>
  </div>
</BaseLayout>
