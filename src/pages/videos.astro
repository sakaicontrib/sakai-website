---
import SectionPageLayout from "../layouts/SectionPageLayout.astro";
const withBase = (path: string) =>
  `${import.meta.env.BASE_URL.replace(/\/$/, "")}/${path.replace(/^\/+/, "")}`;

const formatDate = (value: string) =>
  new Date(value).toLocaleDateString("en-US", {
    year: "numeric",
    month: "short",
    day: "numeric"
  });

const sakaiCon2022 = [
  {
    title: "Welcome and General Session: Conversations",
    date: "2022-07-20T13:09:37Z",
    duration: "41:55",
    href: "https://www.youtube.com/watch?v=ZEysLkovvQo"
  },
  {
    title: "General Session: Sakai Assignments",
    date: "2022-07-20T13:14:00Z",
    duration: "31:32",
    href: "https://www.youtube.com/watch?v=tXDnZ5JDezo"
  },
  {
    title: "Showcase: Effective Teaching Practices in Sakai",
    date: "2022-07-20T13:15:39Z",
    duration: "01:02:25",
    href: "https://www.youtube.com/watch?v=7Br1WYX-1EQ"
  },
  {
    title: "General Session: Sakai Rubrics",
    date: "2022-07-20T13:16:52Z",
    duration: "30:01",
    href: "https://www.youtube.com/watch?v=Opky0C3zE1U"
  },
  {
    title: "General Session: Accessibility in Sakai",
    date: "2022-07-20T19:02:19Z",
    duration: "32:24",
    href: "https://www.youtube.com/watch?v=VxS-fpIsgeQ"
  },
  {
    title: "General Session: Sakai Tests & Quizzes",
    date: "2022-07-20T19:09:45Z",
    duration: "36:58",
    href: "https://www.youtube.com/watch?v=QC7D8-UEAUc"
  }
];
---

<SectionPageLayout
  title="Videos | Sakai LMS"
  description="Sakai feature videos and conference recordings from Sakai community events."
  kicker="Videos"
  heading="Sakai Video Library"
>
  <article class="hard-border block-shadow-soft bg-[var(--sakai-paper)] p-6">
    <p class="text-lg leading-relaxed text-[var(--sakai-ink)]">
      Watch product sessions, conference showcases, and implementation-focused recordings from the Sakai community.
    </p>
  </article>

  <section class="hard-border block-shadow-soft bg-[var(--sakai-paper)] p-6">
    <h2 class="sans text-2xl font-black uppercase text-[var(--sakai-ink)]">SakaiCon22 Featured Sessions</h2>
    <div class="mt-4 grid gap-3 md:grid-cols-2">
      {sakaiCon2022.map((item) => (
        <a href={item.href} target="_blank" rel="noreferrer" class="hard-border bg-white p-4">
          <h3 class="sans text-base font-black uppercase leading-tight text-[var(--sakai-ink)]">{item.title}</h3>
          <p class="mt-2 text-xs text-[var(--sakai-ink-soft)]">{formatDate(item.date)} Â· {item.duration}</p>
        </a>
      ))}
    </div>
  </section>

  <section class="grid gap-4 md:grid-cols-3">
    <a href="https://www.youtube.com/@SakaiCLE" target="_blank" rel="noreferrer" class="hard-border block-shadow-soft bg-white p-5 transition hover:-translate-x-0.5 hover:-translate-y-0.5">
      <h2 class="sans text-xl font-black uppercase text-[var(--sakai-ink)]">YouTube Channel</h2>
      <p class="mt-3 text-sm leading-relaxed text-[var(--sakai-ink-soft)]">Browse the complete Sakai video archive and subscribe for updates.</p>
    </a>
    <a href={withBase("/events")} class="hard-border block-shadow-soft bg-white p-5 transition hover:-translate-x-0.5 hover:-translate-y-0.5">
      <h2 class="sans text-xl font-black uppercase text-[var(--sakai-ink)]">Sakai Events</h2>
      <p class="mt-3 text-sm leading-relaxed text-[var(--sakai-ink-soft)]">Review event highlights and the latest conference session sets.</p>
    </a>
    <a href={withBase("/resources")} class="hard-border block-shadow-soft bg-white p-5 transition hover:-translate-x-0.5 hover:-translate-y-0.5">
      <h2 class="sans text-xl font-black uppercase text-[var(--sakai-ink)]">Technical Resources</h2>
      <p class="mt-3 text-sm leading-relaxed text-[var(--sakai-ink-soft)]">Pair videos with docs, release notes, and implementation guidance.</p>
    </a>
  </section>
</SectionPageLayout>
