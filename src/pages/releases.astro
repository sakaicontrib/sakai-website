---
import SectionPageLayout from "../layouts/SectionPageLayout.astro";

const asOfDate = "February 24, 2026";

const currentReleaseLine = {
  version: "25.1",
  released: "November 7, 2025",
  source: "https://source.sakaiproject.org/release/25.1/",
  branch: "https://github.com/sakaiproject/sakai/tree/25.1",
  readme: "https://github.com/sakaiproject/sakai/blob/25.1/README.md",
  releaseCommit: "https://github.com/sakaiproject/sakai/commit/e7cf1632fde4635fa716f1d95789817dc9d9de39"
};

const recentVersions = [
  {
    version: "25.1",
    released: "November 7, 2025",
    source: "https://source.sakaiproject.org/release/25.1/"
  },
  {
    version: "25.0",
    released: "June 20, 2025",
    source: "https://source.sakaiproject.org/release/25.0/"
  },
  {
    version: "23.4",
    released: "July 11, 2025",
    source: "https://source.sakaiproject.org/release/23.4/"
  }
];

const docs = [
  {
    title: "Sakai Source Distribution",
    href: "https://source.sakaiproject.org/release/",
    text: "Official source distribution landing page (currently redirects to latest stable line)."
  },
  {
    title: "Sakai GitHub Repository",
    href: "https://github.com/sakaiproject/sakai",
    text: "Core source repository, tags, branches, and contribution workflow."
  },
  {
    title: "Sakai User Guides",
    href: "https://sakai.screenstepslive.com/s/sakai_help/m/101295",
    text: "End-user documentation for instructors, students, and support teams."
  },
  {
    title: "Sakai Confluence Wiki",
    href: "https://sakaiproject.atlassian.net/wiki/spaces/CONF/overview?mode=global",
    text: "Community project wiki with governance, planning, and technical collaboration spaces."
  }
];
---

<SectionPageLayout
  title="Sakai Releases And Versions | Sakai LMS"
  description="Current Sakai release lines, recent versions, and official source/documentation links."
  kicker="Releases"
  heading="Sakai Releases And Versions"
>
  <article class="hard-border block-shadow-soft bg-[var(--sakai-paper)] p-6">
    <p class="text-lg leading-relaxed text-[var(--sakai-ink)]">
      Version data on this page reflects official Sakai sources as of {asOfDate}. For deployment and upgrade planning,
      use the source distribution pages and branch-specific documentation links below.
    </p>
  </article>

  <section class="hard-border block-shadow-soft bg-[var(--sakai-ink)] p-6 text-[var(--sakai-paper)]">
    <p class="sans text-xs font-black uppercase tracking-[0.1em] text-[var(--sakai-aqua)]">Current Stable Release</p>
    <h2 class="sans mt-2 text-3xl font-black uppercase">Sakai {currentReleaseLine.version}</h2>
    <p class="mt-3 text-sm leading-relaxed text-[var(--sakai-paper)]/90">Release commit date: {currentReleaseLine.released}</p>
    <div class="mt-4 grid gap-3 md:grid-cols-2">
      <a href={currentReleaseLine.source} class="hard-border bg-[var(--sakai-paper)]/10 p-3 text-sm">Release Source Page</a>
      <a href={currentReleaseLine.branch} class="hard-border bg-[var(--sakai-paper)]/10 p-3 text-sm">`25.1` Branch</a>
      <a href={currentReleaseLine.readme} class="hard-border bg-[var(--sakai-paper)]/10 p-3 text-sm">Branch README</a>
      <a href={currentReleaseLine.releaseCommit} class="hard-border bg-[var(--sakai-paper)]/10 p-3 text-sm">Release Commit</a>
    </div>
  </section>

  <section class="hard-border block-shadow-soft bg-white p-6">
    <h2 class="sans text-2xl font-black uppercase text-[var(--sakai-ink)]">Recent Release Lines</h2>
    <div class="mt-4 grid gap-3 md:grid-cols-3">
      {recentVersions.map((item) => (
        <a href={item.source} class="hard-border bg-[var(--sakai-paper)] p-4 transition hover:-translate-x-0.5 hover:-translate-y-0.5">
          <p class="sans text-sm font-black uppercase text-[var(--sakai-ink)]">Sakai {item.version}</p>
          <p class="mt-2 text-xs text-[var(--sakai-ink-soft)]">Release commit date: {item.released}</p>
          <p class="mt-2 text-xs font-semibold text-[var(--sakai-terracotta)]">Open Source Distribution</p>
        </a>
      ))}
    </div>
  </section>

  <section class="hard-border block-shadow-soft bg-[var(--sakai-paper)] p-6">
    <h2 class="sans text-2xl font-black uppercase text-[var(--sakai-ink)]">Technical Docs And References</h2>
    <div class="mt-4 grid gap-3 md:grid-cols-2">
      {docs.map((doc) => (
        <a href={doc.href} class="hard-border bg-white p-4 transition hover:-translate-x-0.5 hover:-translate-y-0.5">
          <h3 class="sans text-lg font-black uppercase text-[var(--sakai-ink)]">{doc.title}</h3>
          <p class="mt-2 text-sm leading-relaxed text-[var(--sakai-ink-soft)]">{doc.text}</p>
        </a>
      ))}
    </div>
  </section>
</SectionPageLayout>
